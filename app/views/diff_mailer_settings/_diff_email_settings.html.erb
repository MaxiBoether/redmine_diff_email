<%= javascript_tag do %>

  function SecondInpuDependsOnFirstClickHandler(event){
    if ($(this).is(':checked')) {
      $("#repository_is_diff_email_attached").removeAttr("disabled");
    } else {
      $("#repository_is_diff_email_attached").attr("disabled", "disabled");
    }
  }

  $(document).ready(function(){
    var firstInput = $('#repository_is_diff_email');
    SecondInpuDependsOnFirstClickHandler.call(firstInput);
    firstInput.on(
      'click',
      SecondInpuDependsOnFirstClickHandler
    );
  });
<% end %>

<%= content_tag :p do %>
  <%= label_tag('repository_is_diff_email', l(:field_mail_notification)) %>
  <%= check_box(:repository, :is_diff_email) %>
  <em><%= l(:text_diff_email_setting) %></em>
<% end %>

<%= content_tag :p do %>
  <%= content_tag :label, "&nbsp;".html_safe %>
  <%= check_box(:repository, :is_diff_email_attached) %>
  <em><%= l(:text_diff_email_attached) %></em>
<% end %>
